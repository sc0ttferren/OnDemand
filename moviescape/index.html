<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MovieScape - Library</title>
    <link rel="stylesheet" href="style.css">
    <!-- MovieScape Favicon cause it's cool -->
    <link rel="icon" type="image/png" href="https://github-production-user-asset-6210df.s3.amazonaws.com/100329425/265307460-71bee8b1-cbb4-4da7-9378-21730d6f6fc6.png">
</head>
<body>
    <header>
        <h1>MovieScape</h1>
        <!-- New Settings Icon for the Menu -->
        <div id="settings-icon" class="settings-icon">
            <a href="#" id="settings-link"><img src="https://github.com/sc0ttferren/scottstheatres/raw/main/moviescape/Settings-L-icon.png" alt="Settings"></a>
        </div>
    </header>
    <main>
    <style>
        /* CSS for movie card */
        .movie-card {
            display: inline-block;
            margin: 10px;
            text-align: center;
            width: 200px; /* Adjust the width as needed */
        }

        /* CSS for movie list container */
        .movie-list-container {
            white-space: nowrap; /* Prevent movie lists from wrapping to the next line */
            overflow-x: auto; /* Add horizontal scrollbar if needed */
        }

        /* Style for the movie list headings */
        .movie-list-heading {
            text-align: center;
            font-size: 20px;
        }

        /* CSS for the popup */
        .popup {
            display: none;
            position: fixed;
            top: 50%; /* Center vertically */
            left: 50%; /* Center horizontally */
            transform: translate(-50%, -50%); /* Center both horizontally and vertically */
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 9999;
        }

        .popup-content {
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.3);
            width: 80%;
            max-width: 400px;
            padding: 20px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
    </style>
</head>
<body>
    <!-- ... (previous body content) ... -->
    <main>
        <div class="movie-list-container">
            <h2 class="movie-list-heading">Movie List 1</h2>
            <section id="movie-list">
                <!-- 1st Movie Cards List Dynamic Auto-Add -->
            </section>
        </div>
        <div class="movie-list-container">
            <h2 class="movie-list-heading">Movie List 2</h2>
            <section id="movie-list-2">
                <!-- 2nd Movie Cards List Dynamic Auto-Add -->
            </section>
        </div>
        <div class="movie-list-container">
            <h2 class="movie-list-heading">Movie List 3</h2>
            <section id="movie-list-3">
                <!-- 3rd Movie Cards List Dynamic Auto-Add -->
            </section>
        </div>
    </main>
    
<!-- New Settings Menu -->
<div id="settings-menu" class="settings-menu">
    <!-- Settings menu content here -->
    <ul>
        <li id="tab-cloak-option"><a href="#" onclick="toggleFavicon()">Tab Cloak</a></li>
        <li><a href="#" onclick="openAboutBlankTab()">About:Blank Tab</a></li>
        <li id="user-key">Loading..</li> <!-- Updated with an ID -->
        <!-- Add more options as needed -->
    </ul>
</div>

        <!-- Popup container -->
    <div class="popup" id="popup">
        <div class="popup-content">
            <span class="close-button" id="close-popup">&times;</span>
            <h2>Notification</h2>
            <div id="notification-content"></div>
        </div>
    </div>

<!-- shows scottsuite popup -->
    <script>
                // Function to show the popup with a fade-in animation
        function showPopup() {
            const popup = document.getElementById('popup');
            popup.style.display = 'block';
            setTimeout(() => {
                // Fade in the popup
                const popupContent = document.querySelector('.popup-content');
                popupContent.style.opacity = 1;
                popupContent.style.transform = 'translate(-50%, -50%)';
            }, 100);
        }

        // Function to hide the popup
        function hidePopup() {
            const popup = document.getElementById('popup');
            popup.style.display = 'none';
        }

        // Function to check if user is a moderator and show appropriate message
        function checkModeratorStatus() {
            const userpermKey = document.cookie.match('(^|;)\\s*userpermKey\\s*=\\s*([^;]+)');
            if (userpermKey && ["46207", "46208", "46209"].includes(userpermKey[2])) {
                const notificationContent = document.getElementById('notification-content');
                notificationContent.textContent = "It seems like you're a moderator, would you like to open up ScottSuite?";
                const openScottSuiteButton = document.createElement('button');
                openScottSuiteButton.textContent = 'Yes';
                openScottSuiteButton.addEventListener('click', function () {
                    hidePopup();
                    showScottSuite();
                });
                notificationContent.appendChild(openScottSuiteButton);
                showPopup();
            }
        }

        // Function to show ScottSuite
        function showScottSuite() {
            const notificationContent = document.getElementById('notification-content');
            notificationContent.innerHTML = '<h2>ScottSuite</h2>';
            showPopup();
        }

        // Show the popup if user is a moderator
        window.addEventListener('load', checkModeratorStatus);

        // Add click event listener to the "No" button
        const noButton = document.querySelector('.no');
        noButton.addEventListener('click', function () {
            // Hide the popup when "No" is clicked
            hidePopup();
        });
    </script>

    
    <!-- Tab Cloak page -->
<script>
    function toggleFavicon() {
        const currentFavicon = document.querySelector('link[rel="icon"]');
        if (currentFavicon.href.includes("github-production-user-asset-6210df.s3.amazonaws.com")) {
            // changes to the Home Access Center favicon & title
            currentFavicon.href = "https://learnsmartly.org/shuttle-uv/hvtrs8%2F-rcw%2Cgktju%60uqepcmnvelt%2Ccmm-sa0vtdeprgn-saovtqtjectpeq%2Foakn-mmvkeqccpg%2FQevtknes%2FL%2Fiaol.rne";
            document.title = "Home View Summary";

        } else {
            // changes back to the original favicon & title
            currentFavicon.href = "https://github-production-user-asset-6210df.s3.amazonaws.com/100329425/265307460-71bee8b1-cbb4-4da7-9378-21730d6f6fc6.png";
            document.title = "MovieScape - Library";
        }
    }
</script>

<!-- About:Blank page -->
<script>
    function openAboutBlankTab() {
        // Create a new window or tab with about:blank
        const newTab = window.open('about:blank', '_blank');

        // Check if the new window/tab was successfully opened
        if (newTab) {
            // Copy the content of the original page into the new window/tab
            newTab.document.write(document.documentElement.outerHTML);
            newTab.document.close();
        } else {
            // Handle the case where the new window/tab couldn't be opened
            alert('Pop-up blocked. Please allow pop-ups for this site.');
        }
    }
</script>

    </div>
    <footer>
        <p>&copy; 2023-24 Scott's Theatres</p>
    </footer>

    <script src="script.js"></script>

    <script src='https://cdn.jsdelivr.net/npm/@widgetbot/crate@3' async defer>
    new Crate({
        server: '1102717886985928796', // Scott's Basement
        channel: '1102717886985928799' // #ðŸ’¬â”†general
    })
    </script>
</body>
</html>
